= Koddy API 문서
:doctype: book
:icons: font
:source-highlighter: highlightjs
:toc: left
:toclevels: 3

== OAuth 로그인/로그아웃 API

=== OAuth Link 얻기

> HTTP Request

include::{snippets}/OAuthApi/Access/Success/http-request.adoc[]
include::{snippets}/OAuthApi/Access/Success/path-parameters.adoc[]
include::{snippets}/OAuthApi/Access/Success/query-parameters.adoc[]

> HTTP Response

include::{snippets}/OAuthApi/Access/Failure/http-response.adoc[]
include::{snippets}/OAuthApi/Access/Success/http-response.adoc[]
include::{snippets}/OAuthApi/Access/Success/response-fields.adoc[]

=== OAuth 로그인

> HTTP Request

include::{snippets}/OAuthApi/Login/Success/http-request.adoc[]
include::{snippets}/OAuthApi/Login/Success/path-parameters.adoc[]
include::{snippets}/OAuthApi/Login/Success/request-fields.adoc[]

> HTTP Response

===== DB에 사용자가 없는 경우 >> 회원가입 진행

include::{snippets}/OAuthApi/Login/Failure/http-response.adoc[]
include::{snippets}/OAuthApi/Login/Failure/response-fields.adoc[]

===== DB에 사용자가 존재 >> 로그인 완료

include::{snippets}/OAuthApi/Login/Success/http-response.adoc[]
include::{snippets}/OAuthApi/Login/Success/response-fields.adoc[]

=== 로그아웃 (AccessToken)

> HTTP Request

include::{snippets}/OAuthApi/Logout/http-request.adoc[]

> HTTP Response

include::{snippets}/OAuthApi/Logout/http-response.adoc[]

== 토큰 재발급 API (RefreshToken)

> HTTP Request

include::{snippets}/TokenReissueApi/Success/http-request.adoc[]
include::{snippets}/TokenReissueApi/Success/request-cookies.adoc[]

> HTTP Response

include::{snippets}/TokenReissueApi/Failure/http-response.adoc[]
include::{snippets}/TokenReissueApi/Success/http-response.adoc[]

== 회원가입 + 로그인 / 탈퇴 API

=== 멘토 회원가입 + 로그인

> HTTP Request

include::{snippets}/MemberApi/SignUp/Mentor/http-request.adoc[]
include::{snippets}/MemberApi/SignUp/Mentor/request-fields.adoc[]

> HTTP Response

include::{snippets}/MemberApi/SignUp/Mentor/http-response.adoc[]
include::{snippets}/MemberApi/SignUp/Mentor/response-fields.adoc[]

=== 멘티 회원가입 + 로그인

> HTTP Request

include::{snippets}/MemberApi/SignUp/Mentee/http-request.adoc[]
include::{snippets}/MemberApi/SignUp/Mentee/request-fields.adoc[]

> HTTP Response

include::{snippets}/MemberApi/SignUp/Mentee/http-response.adoc[]
include::{snippets}/MemberApi/SignUp/Mentee/response-fields.adoc[]

=== 사용자 탈퇴 (AccessToken)

> HTTP Request

include::{snippets}/MemberApi/Delete/http-request.adoc[]

> HTTP Response

include::{snippets}/MemberApi/Delete/http-response.adoc[]

== 사용자 프로필 완성 API (AccessToken)

=== 멘토 프로필 완성 (Mentor)

> HTTP Request

include::{snippets}/MemberApi/Complete/Mentor/Success/http-request.adoc[]
include::{snippets}/MemberApi/Complete/Mentor/Success/request-fields.adoc[]

> HTTP Response

include::{snippets}/MemberApi/Complete/Mentor/Success/http-response.adoc[]

=== 멘티 프로필 완성 (Mentee)

> HTTP Request

include::{snippets}/MemberApi/Complete/Mentee/Success/http-request.adoc[]
include::{snippets}/MemberApi/Complete/Mentee/Success/request-fields.adoc[]

> HTTP Response

include::{snippets}/MemberApi/Complete/Mentee/Success/http-response.adoc[]

== 사용자 정보 수정 API (AccessToken)

=== 멘토 정보 수정 API (Mentor)

==== 기본 정보

> HTTP Request

include::{snippets}/MemberApi/Update/Mentor/BasicInfo/Success/http-request.adoc[]
include::{snippets}/MemberApi/Update/Mentor/BasicInfo/Success/request-fields.adoc[]

> HTTP Response

include::{snippets}/MemberApi/Update/Mentor/BasicInfo/Success/http-response.adoc[]

==== 스케줄

> HTTP Request

include::{snippets}/MemberApi/Update/Mentor/Schedule/Success/http-request.adoc[]
include::{snippets}/MemberApi/Update/Mentor/Schedule/Success/request-fields.adoc[]

> HTTP Response

include::{snippets}/MemberApi/Update/Mentor/Schedule/Success/http-response.adoc[]

=== 멘티 정보 수정 API (Mentee)

==== 기본 정보

> HTTP Request

include::{snippets}/MemberApi/Update/Mentee/BasicInfo/Success/http-request.adoc[]
include::{snippets}/MemberApi/Update/Mentee/BasicInfo/Success/request-fields.adoc[]

> HTTP Response

include::{snippets}/MemberApi/Update/Mentee/BasicInfo/Success/http-response.adoc[]

== 멘토 학교 인증 API (AccessToken + Mentor)

=== 메일 인증 시도

> 3회 이상 시도하면 10분동안 메일 발송 밴

> HTTP Request

include::{snippets}/MemberApi/Mentor/UnivAuth/Mail/Success/http-request.adoc[]
include::{snippets}/MemberApi/Mentor/UnivAuth/Mail/Success/request-fields.adoc[]

> HTTP Response

include::{snippets}/MemberApi/Mentor/UnivAuth/Mail/Failure/Case2/http-response.adoc[]
include::{snippets}/MemberApi/Mentor/UnivAuth/Mail/Success/http-response.adoc[]

=== 메일 인증번호 확인

> HTTP Request

include::{snippets}/MemberApi/Mentor/UnivAuth/Mail/Confirm/Success/http-request.adoc[]
include::{snippets}/MemberApi/Mentor/UnivAuth/Mail/Confirm/Success/request-fields.adoc[]

> HTTP Response

include::{snippets}/MemberApi/Mentor/UnivAuth/Mail/Confirm/Failure/Case2/http-response.adoc[]
include::{snippets}/MemberApi/Mentor/UnivAuth/Mail/Confirm/Success/http-response.adoc[]

=== 증명자료 인증 시도

> HTTP Request

include::{snippets}/MemberApi/Mentor/UnivAuth/ProofData/Success/http-request.adoc[]
include::{snippets}/MemberApi/Mentor/UnivAuth/ProofData/Success/request-fields.adoc[]

> HTTP Response

include::{snippets}/MemberApi/Mentor/UnivAuth/ProofData/Success/http-response.adoc[]

== 특정 Year-Month에 대해서 멘토의 예약된 스케줄 조회 API (AccessToken)

> HTTP Request

include::{snippets}/MemberApi/Mentor/ReservedSchedule/http-request.adoc[]
include::{snippets}/MemberApi/Mentor/ReservedSchedule/path-parameters.adoc[]
include::{snippets}/MemberApi/Mentor/ReservedSchedule/query-parameters.adoc[]

> HTTP Response

include::{snippets}/MemberApi/Mentor/ReservedSchedule/http-response.adoc[]
include::{snippets}/MemberApi/Mentor/ReservedSchedule/response-fields.adoc[]

== 사용자 마이페이지(Private) 프로필 조회 API (AccessToken)

=== 멘토 정보

> HTTP Request

include::{snippets}/MemberApi/PrivateProfile/Mix/Mentor/http-request.adoc[]

> HTTP Response

include::{snippets}/MemberApi/PrivateProfile/Mix/Mentor/http-response.adoc[]
include::{snippets}/MemberApi/PrivateProfile/Mix/Mentor/response-fields.adoc[]

=== 멘티 정보

> HTTP Request

include::{snippets}/MemberApi/PrivateProfile/Mix/Mentee/http-request.adoc[]

> HTTP Response

include::{snippets}/MemberApi/PrivateProfile/Mix/Mentee/http-response.adoc[]
include::{snippets}/MemberApi/PrivateProfile/Mix/Mentee/response-fields.adoc[]

== 사용자 기본(Public) 프로필 조회 API

=== 멘토 정보

> HTTP Request

include::{snippets}/MemberApi/PublicProfile/Mentor/http-request.adoc[]
include::{snippets}/MemberApi/PublicProfile/Mentor/path-parameters.adoc[]

> HTTP Response

include::{snippets}/MemberApi/PublicProfile/Mentor/http-response.adoc[]
include::{snippets}/MemberApi/PublicProfile/Mentor/response-fields.adoc[]

=== 멘티 정보

> HTTP Request

include::{snippets}/MemberApi/PublicProfile/Mentee/http-request.adoc[]
include::{snippets}/MemberApi/PublicProfile/Mentee/path-parameters.adoc[]

> HTTP Response

include::{snippets}/MemberApi/PublicProfile/Mentee/http-response.adoc[]
include::{snippets}/MemberApi/PublicProfile/Mentee/response-fields.adoc[]

== 멘토 메인 홈 관련 API

=== 커피챗 신청한 멘티 (AccessToken + Mentor)

> HTTP Request

include::{snippets}/MemberApi/Mentor/MainSearch/AppliedMentees/Success/http-request.adoc[]
include::{snippets}/MemberApi/Mentor/MainSearch/AppliedMentees/Success/query-parameters.adoc[]

> HTTP Response

include::{snippets}/MemberApi/Mentor/MainSearch/AppliedMentees/Success/http-response.adoc[]
include::{snippets}/MemberApi/Mentor/MainSearch/AppliedMentees/Success/response-fields.adoc[]

=== 멘티 둘러보기

> HTTP Request

include::{snippets}/MemberApi/Mentor/MainSearch/Mentees/http-request.adoc[]
include::{snippets}/MemberApi/Mentor/MainSearch/Mentees/query-parameters.adoc[]

> HTTP Response

include::{snippets}/MemberApi/Mentor/MainSearch/Mentees/http-response.adoc[]
include::{snippets}/MemberApi/Mentor/MainSearch/Mentees/response-fields.adoc[]

== 멘티 메인 홈 관련 API

=== 커피챗 제안한 멘토 (AccessToken + Mentee)

> HTTP Request

include::{snippets}/MemberApi/Mentee/MainSearch/SuggestedMentors/Success/http-request.adoc[]
include::{snippets}/MemberApi/Mentee/MainSearch/SuggestedMentors/Success/query-parameters.adoc[]

> HTTP Response

include::{snippets}/MemberApi/Mentee/MainSearch/SuggestedMentors/Success/http-response.adoc[]
include::{snippets}/MemberApi/Mentee/MainSearch/SuggestedMentors/Success/response-fields.adoc[]

=== 멘토 둘러보기

> HTTP Request

include::{snippets}/MemberApi/Mentee/MainSearch/Mentors/http-request.adoc[]
include::{snippets}/MemberApi/Mentee/MainSearch/Mentors/query-parameters.adoc[]

> HTTP Response

include::{snippets}/MemberApi/Mentee/MainSearch/Mentors/http-response.adoc[]
include::{snippets}/MemberApi/Mentee/MainSearch/Mentors/response-fields.adoc[]

== 파일 관련 API (AccessToken)

=== PresignedUrl 응답

==== 이미지 파일

> HTTP Request

include::{snippets}/FileApi/GetPresignedUrl/Image/Success/http-request.adoc[]
include::{snippets}/FileApi/GetPresignedUrl/Image/Success/query-parameters.adoc[]

> HTTP Response

include::{snippets}/FileApi/GetPresignedUrl/Image/Failure/http-response.adoc[]
include::{snippets}/FileApi/GetPresignedUrl/Image/Success/http-response.adoc[]
include::{snippets}/FileApi/GetPresignedUrl/Image/Success/response-fields.adoc[]

==== PDF 파일

> HTTP Request

include::{snippets}/FileApi/GetPresignedUrl/Pdf/Success/http-request.adoc[]
include::{snippets}/FileApi/GetPresignedUrl/Pdf/Success/query-parameters.adoc[]

> HTTP Response

include::{snippets}/FileApi/GetPresignedUrl/Pdf/Failure/http-response.adoc[]
include::{snippets}/FileApi/GetPresignedUrl/Pdf/Success/http-response.adoc[]
include::{snippets}/FileApi/GetPresignedUrl/Pdf/Success/response-fields.adoc[]

== 커피챗 링크 생성/삭제 API (AccessToken + Mentor)

OAuth 인증 후 진행되는 흐름

=== 링크 생성

> HTTP Request

include::{snippets}/CoffeeChatApi/MeetingLink/Create/Success/http-request.adoc[]
include::{snippets}/CoffeeChatApi/MeetingLink/Create/Success/path-parameters.adoc[]
include::{snippets}/CoffeeChatApi/MeetingLink/Create/Success/request-fields.adoc[]

> HTTP Response

include::{snippets}/CoffeeChatApi/MeetingLink/Create/Success/http-response.adoc[]
include::{snippets}/CoffeeChatApi/MeetingLink/Create/Success/response-fields.adoc[]

=== 링크 삭제

미팅 ID - Zoom OAuthToken Cache Hit Rate를 고려해서 생성 후 10분 안에 자동 삭제 가능, 10분 이후부터는 수동 삭제

- Code -> COFFEE_CHAT_002
- Message -> "존재하지 않거나 자동 삭제가 불가능한 미팅입니다."

Or 자동 삭제 기능 미제공 (Only 수동 삭제)

> HTTP Request

include::{snippets}/CoffeeChatApi/MeetingLink/Delete/Success/http-request.adoc[]
include::{snippets}/CoffeeChatApi/MeetingLink/Delete/Success/path-parameters.adoc[]

> HTTP Response

include::{snippets}/CoffeeChatApi/MeetingLink/Delete/Success/http-response.adoc[]

== 커피챗 신청/제안 API (AccessToken)

=== 멘토 -> 멘티 커피챗 제안 (Mentor)

> HTTP Request

include::{snippets}/CoffeeChatApi/LifeCycle/Create/MentorSuggest/Success/http-request.adoc[]
include::{snippets}/CoffeeChatApi/LifeCycle/Create/MentorSuggest/Success/path-parameters.adoc[]
include::{snippets}/CoffeeChatApi/LifeCycle/Create/MentorSuggest/Success/request-fields.adoc[]

> HTTP Response

include::{snippets}/CoffeeChatApi/LifeCycle/Create/MentorSuggest/Success/http-response.adoc[]

=== 멘티 -> 멘토 커피챗 신청 (Mentee)

==== 1. 실패 (이미 예약되었거나 멘토링이 가능하지 않은 날짜)

> HTTP Request

include::{snippets}/CoffeeChatApi/LifeCycle/Create/MenteeApply/Failure/Case2/http-request.adoc[]
include::{snippets}/CoffeeChatApi/LifeCycle/Create/MenteeApply/Failure/Case2/path-parameters.adoc[]
include::{snippets}/CoffeeChatApi/LifeCycle/Create/MenteeApply/Failure/Case2/request-fields.adoc[]

> HTTP Response

include::{snippets}/CoffeeChatApi/LifeCycle/Create/MenteeApply/Failure/Case2/http-response.adoc[]

==== 2. 성공

> HTTP Request

include::{snippets}/CoffeeChatApi/LifeCycle/Create/MenteeApply/Success/http-request.adoc[]
include::{snippets}/CoffeeChatApi/LifeCycle/Create/MenteeApply/Success/path-parameters.adoc[]
include::{snippets}/CoffeeChatApi/LifeCycle/Create/MenteeApply/Success/request-fields.adoc[]

> HTTP Response

include::{snippets}/CoffeeChatApi/LifeCycle/Create/MenteeApply/Success/http-response.adoc[]

== 신청/제안한 커피챗 취소 API (AccessToken)

> HTTP Request

include::{snippets}/CoffeeChatApi/LifeCycle/Cancel/http-request.adoc[]
include::{snippets}/CoffeeChatApi/LifeCycle/Cancel/path-parameters.adoc[]

> HTTP Response

include::{snippets}/CoffeeChatApi/LifeCycle/Cancel/http-response.adoc[]

== 신청/제안된 커피챗 처리 (AccessToken)

=== 멘티가 신청한 커피챗 처리 (Mentor)

==== 거절

> HTTP Request

include::{snippets}/CoffeeChatApi/LifeCycle/AppliedByMentee/Reject/Success/http-request.adoc[]
include::{snippets}/CoffeeChatApi/LifeCycle/AppliedByMentee/Reject/Success/path-parameters.adoc[]
include::{snippets}/CoffeeChatApi/LifeCycle/AppliedByMentee/Reject/Success/request-fields.adoc[]

> HTTP Response

include::{snippets}/CoffeeChatApi/LifeCycle/AppliedByMentee/Reject/Success/http-response.adoc[]

==== 승인

> HTTP Request

include::{snippets}/CoffeeChatApi/LifeCycle/AppliedByMentee/Approve/Success/http-request.adoc[]
include::{snippets}/CoffeeChatApi/LifeCycle/AppliedByMentee/Approve/Success/path-parameters.adoc[]
include::{snippets}/CoffeeChatApi/LifeCycle/AppliedByMentee/Approve/Success/request-fields.adoc[]

> HTTP Response

include::{snippets}/CoffeeChatApi/LifeCycle/AppliedByMentee/Approve/Success/http-response.adoc[]

=== 멘토가 제안한 커피챗 처리 (Mentee)

==== 거절

> HTTP Request

include::{snippets}/CoffeeChatApi/LifeCycle/SuggestedByMentor/Reject/Success/http-request.adoc[]
include::{snippets}/CoffeeChatApi/LifeCycle/SuggestedByMentor/Reject/Success/path-parameters.adoc[]
include::{snippets}/CoffeeChatApi/LifeCycle/SuggestedByMentor/Reject/Success/request-fields.adoc[]

> HTTP Response

include::{snippets}/CoffeeChatApi/LifeCycle/SuggestedByMentor/Reject/Success/http-response.adoc[]

==== 1차 수락 (멘토 최종 결정 대기)

===== 1. 실패 (이미 예약되었거나 멘토링이 가능하지 않은 날짜)

=> HTTP Request

include::{snippets}/CoffeeChatApi/LifeCycle/SuggestedByMentor/Pending/Failure/Case2/http-request.adoc[]
include::{snippets}/CoffeeChatApi/LifeCycle/SuggestedByMentor/Pending/Failure/Case2/path-parameters.adoc[]
include::{snippets}/CoffeeChatApi/LifeCycle/SuggestedByMentor/Pending/Failure/Case2/request-fields.adoc[]

=> HTTP Response

include::{snippets}/CoffeeChatApi/LifeCycle/SuggestedByMentor/Pending/Failure/Case2/http-response.adoc[]

===== 2. 성공

=> HTTP Request

include::{snippets}/CoffeeChatApi/LifeCycle/SuggestedByMentor/Pending/Success/http-request.adoc[]
include::{snippets}/CoffeeChatApi/LifeCycle/SuggestedByMentor/Pending/Success/path-parameters.adoc[]
include::{snippets}/CoffeeChatApi/LifeCycle/SuggestedByMentor/Pending/Success/request-fields.adoc[]

=> HTTP Response

include::{snippets}/CoffeeChatApi/LifeCycle/SuggestedByMentor/Pending/Success/http-response.adoc[]

=== Pending 상태인 커피챗에 대한 멘토의 최종 결정 (Mentor)

==== 최종 거절

> HTTP Request

include::{snippets}/CoffeeChatApi/LifeCycle/PendingCoffeeChat/Reject/Success/http-request.adoc[]
include::{snippets}/CoffeeChatApi/LifeCycle/PendingCoffeeChat/Reject/Success/path-parameters.adoc[]
include::{snippets}/CoffeeChatApi/LifeCycle/PendingCoffeeChat/Reject/Success/request-fields.adoc[]

> HTTP Response

include::{snippets}/CoffeeChatApi/LifeCycle/PendingCoffeeChat/Reject/Success/http-response.adoc[]

==== 최종 수락

> HTTP Request

include::{snippets}/CoffeeChatApi/LifeCycle/PendingCoffeeChat/Approve/Success/http-request.adoc[]
include::{snippets}/CoffeeChatApi/LifeCycle/PendingCoffeeChat/Approve/Success/path-parameters.adoc[]
include::{snippets}/CoffeeChatApi/LifeCycle/PendingCoffeeChat/Approve/Success/request-fields.adoc[]

> HTTP Response

include::{snippets}/CoffeeChatApi/LifeCycle/PendingCoffeeChat/Approve/Success/http-response.adoc[]

== 커피챗 스케줄 조회

=== 멘토 (Mentor)

==== 제안한 스케줄 상태별 조회

> HTTP Request

include::{snippets}/CoffeeChatApi/Schedule/Mentor/Suggested/Success/http-request.adoc[]
include::{snippets}/CoffeeChatApi/Schedule/Mentor/Suggested/Success/query-parameters.adoc[]

> HTTP Response

include::{snippets}/CoffeeChatApi/Schedule/Mentor/Suggested/Success/http-response.adoc[]
include::{snippets}/CoffeeChatApi/Schedule/Mentor/Suggested/Success/response-fields.adoc[]

==== 신청받은 스케줄 상태별 조회

> HTTP Request

include::{snippets}/CoffeeChatApi/Schedule/Mentor/Applied/Success/http-request.adoc[]
include::{snippets}/CoffeeChatApi/Schedule/Mentor/Applied/Success/query-parameters.adoc[]

> HTTP Response

include::{snippets}/CoffeeChatApi/Schedule/Mentor/Applied/Success/http-response.adoc[]
include::{snippets}/CoffeeChatApi/Schedule/Mentor/Applied/Success/response-fields.adoc[]

=== 멘티 (Mentee)

==== 신청한 스케줄 상태별 조회

> HTTP Request

include::{snippets}/CoffeeChatApi/Schedule/Mentee/Applied/Success/http-request.adoc[]
include::{snippets}/CoffeeChatApi/Schedule/Mentee/Applied/Success/query-parameters.adoc[]

> HTTP Response

include::{snippets}/CoffeeChatApi/Schedule/Mentee/Applied/Success/http-response.adoc[]
include::{snippets}/CoffeeChatApi/Schedule/Mentee/Applied/Success/response-fields.adoc[]

==== 제안받은 스케줄 상태별 조회

> HTTP Request

include::{snippets}/CoffeeChatApi/Schedule/Mentee/Suggested/Success/http-request.adoc[]
include::{snippets}/CoffeeChatApi/Schedule/Mentee/Suggested/Success/query-parameters.adoc[]

> HTTP Response

include::{snippets}/CoffeeChatApi/Schedule/Mentee/Suggested/Success/http-response.adoc[]
include::{snippets}/CoffeeChatApi/Schedule/Mentee/Suggested/Success/response-fields.adoc[]

== 커피챗 스케줄 상세 조회

=== 멘토 (Mentor)

> HTTP Request

include::{snippets}/CoffeeChatApi/ScheduleDetails/Mentor/http-request.adoc[]
include::{snippets}/CoffeeChatApi/ScheduleDetails/Mentor/path-parameters.adoc[]

> HTTP Response

include::{snippets}/CoffeeChatApi/ScheduleDetails/Mentor/http-response.adoc[]
include::{snippets}/CoffeeChatApi/ScheduleDetails/Mentor/response-fields.adoc[]

=== 멘티 (Mentee)

> HTTP Request

include::{snippets}/CoffeeChatApi/ScheduleDetails/Mentee/http-request.adoc[]
include::{snippets}/CoffeeChatApi/ScheduleDetails/Mentee/path-parameters.adoc[]

> HTTP Response

include::{snippets}/CoffeeChatApi/ScheduleDetails/Mentee/http-response.adoc[]
include::{snippets}/CoffeeChatApi/ScheduleDetails/Mentee/response-fields.adoc[]
